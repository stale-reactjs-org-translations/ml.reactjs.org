---
id: hooks-rules
title: Hooks-เดจเตเดฑเต เดจเดฟเดฏเดฎเดเตเดเตพ
permalink: docs/hooks-rules.html
next: hooks-custom.html
prev: hooks-effect.html
---

React 16.8 เดฒเต เดชเตเดคเดฟเดฏเดคเดพเดฏเดฟ เดเตเตผเดเตเดเดชเตเดชเตเดเตเด เดซเตเดเตเดเตผ เดเดฃเต *Hooks*. class เดเดดเตเดคเดพเดคเต state เดเด เดฎเดฑเตเดฑเต React เดซเตเดเตเดเดฑเตเดเดณเตเด เดเดชเดฏเตเดเดฟเดเตเดเดพเดจเดพเดตเตเด.

Hooks เดเดฐเต JavaScript เดซเดเตเดทเตป เดเดฃเต, เดชเดเตเดทเต เดเดต เดเดชเดฏเตเดเดฟเดเตเดเตเดจเตเดจเดคเดฟเดจเดพเดฏเดฟ 2 เดจเดฟเดฏเดฎเดเตเดเตพ เดถเตเดฐเดฆเตเดงเดฟเดเตเดเตเดฃเตเดเดคเตเดฃเตเดเต. เด เดจเดฟเดฏเดฎเดเตเดเตพ เดชเดพเดฒเดฟเดเตเดเดชเตเดชเตเดเดพเตป เดธเดนเดพเดฏเดฟเดเตเดเตเดจเตเดจเดคเดฟเดจเดพเดฏเดฟ เดเดเตเดเตพ [linter plugin](https://www.npmjs.com/package/eslint-plugin-react-hooks) เดเด เดเตพเดชเตเดชเตเดเตเดคเตเดคเดฟเดฏเดฟเดเตเดเตเดฃเตเดเต.

### Hooks-เดจเต เดเตเดชเตเดชเต เดฒเตเดตเตเตฝ เดเดฎเตเดชเตเดฃเดจเตเดฑเดฟเตฝ เดจเดฟเดจเตเดจเต เดฎเดพเดคเตเดฐเด เดตเดฟเดณเดฟเดเตเดเตเด {#only-call-hooks-at-the-top-level}

<<<<<<< HEAD
**Hooks-เดจเต เดฒเตเดชเตเดเดณเดฟเตฝ เดจเดฟเดจเตเดจเต, เดเดฃเตเดเตเดทเดจเตเดเดณเดฟเตฝ เดจเดฟเดจเตเดจเต Nested เดซเดเตเดทเดจเตเดเดณเดฟเตฝ เดจเดฟเดจเตเดจเต เดตเดฟเดณเดฟเดเตเดเดพเตป เดชเดพเดเตเดณเตเดณเดคเดฒเตเดฒ.** เดชเดเดฐเด React Hooks เดเดชเตเดชเตเดดเตเด เดซเดเตเดทเดจเตเดฑเต เดเตเดชเตเดชเต เดฒเตเดตเดฒเดฟเตฝ เดฎเดพเดคเตเดฐเด เดเดดเตเดคเตเด. เดเดคเต เดตเดดเดฟ , เดเดฐเต เดคเดตเดฃ เดเดฎเตเดชเตเดฃเดจเตเดฑเต เดฑเตเดจเตเดฑเดฐเตโ เดเตเดฏเตเดฏเตเดฎเตเดชเตเดณเตเด เดเดฐเต เดเตเดฐเดฎเดคเตเดคเดฟเตฝ เดเดฃเต เดตเดฟเดณเดฟเดเตเดเดชเตเดชเตเดเตเดจเตเดจเดคเต เดเดจเตเดจเต เดจเดฎเตเดเตเดเต เดเดฑเดชเตเดชเต เดตเดฐเตเดคเตเดคเดพเด. เดเดเตเดเดจเต React เดจเต เดเดจเตเดจเดฟเดฒเดงเดฟเดเด `useState`เดจเตเด `useEffect`เดจเตเด เดซเดเตเดทเตป เดเตเดณเตเดเดณเดฟเตฝ เดเตพเดชเตเดชเดเต Hooks เดจเตเดฑเต เดเดตเดธเตเดฅ เดถเตเดฐเดฟเดฏเดพเดฏ เดฐเตเดคเดฟเดฏเดฟเตฝ เดจเดฟเดฒเดจเดฟเตผเดคเตเดคเดพเตป เดเดดเดฟเดฏเตเดจเตเดจเต. (เดจเดฟเดเตเดเตพเดเตเดเต เดเตเดเตเดคเตฝ เดเดฑเดฟเดฏเดพเตป เดคเดพเตฝเดชเดฐเตเดฏเด เดเดฃเตเดเตเดเตเดเดฟเตฝ เดเดเตเดเตพ เดเดคเดฟเดจเต เดชเดฑเตเดฑเดฟ เดเตเดเตเดคเตฝ เดเดนเดจเดฎเดพเดฏเดฟ  [เดคเดพเดดเต](#explanation) เดชเดฑเดฏเตเดจเตเดจเตเดฃเตเดเต.)
=======
**Don't call Hooks inside loops, conditions, or nested functions.** Instead, always use Hooks at the top level of your React function, before any early returns. By following this rule, you ensure that Hooks are called in the same order each time a component renders. That's what allows React to correctly preserve the state of Hooks between multiple `useState` and `useEffect` calls. (If you're curious, we'll explain this in depth [below](#explanation).)
>>>>>>> df2fbde3b52336229eee550debd692184c427691

### Hooks-เดจเต React เดซเดเตเดทเดจเดฟเตฝ เดจเดฟเดจเตเดจเต เดฎเดพเดคเตเดฐเด เดตเดฟเดณเดฟเดเตเดเตเด {#only-call-hooks-from-react-functions}

**Hooks-เดจเต เดธเดพเดงเดพเดฐเดฃ JavaScript เดซเดเตเดทเดจเดฟเตฝ เดจเดฟเดจเตเดจเต เดตเดฟเดณเดฟเดเตเดเดพเตป เดชเดพเดเตเดณเตเดณเดคเดฒเตเดฒ.** เดชเดเดฐเด,

* โ Hooks-เดจเต React เดซเดเตเดทเตป เดเดฎเตเดชเตเดฃเดจเตเดฑเดฟเตฝ เดจเดฟเดจเตเดจเต เดตเดฟเดณเดฟเดเตเดเดพเด.
* โ เดจเดฟเดเตเดเตพ เดเดทเตเดเดพเดจเตเดธเดฐเดฃเด เดจเดฟเตผเดฎเตเดฎเดฟเดเตเดเตเดเตเดคเตเดค Hooks(Custom Hook) เดเตฝ เดจเดฟเดจเตเดจเตเด เดตเดฟเดณเดฟเดเตเดเดพเด (เดเดตเดฏเต เดเตเดฑเดฟเดเตเดเต เดจเดฎเตเดฎเตพ เดเดเตเดคเตเดค [เดชเตเดเดฟเตฝ](/docs/hooks-custom.html) เดชเดเดฟเดเตเดเตเด ).

เด เดจเดฟเดฏเดฎเดเตเดเตพ เดชเดพเดฒเดฟเดเตเดเตเด เดตเดดเดฟ เดเดฐเต React เดเดฎเตเดชเตเดฃเดจเตเดฑเดฟเดฒเต เดธเตโเดฑเตเดฑเตเดฑเตเดฑเตเดซเตเตพ เดฒเตเดเดฟเดเต เดถเตเดฐเดฟเดฏเดพเดฏ เดฐเตเดคเดฟเดฏเดฟเตฝ เดคเดจเตเดจเตเดฏเดพเดฃเต เดจเดฟเดเตเดเดณเตเดเต เดเตเดกเดฟเดฒเตเดณเตเดณเดคเตเดจเตเดจเต เดเดฑเดชเตเดชเดฟเดเตเดเดพเด.

## ESLint Plugin {#eslint-plugin}

เด 2 เดจเดฟเดฏเดฎเดเตเดเดณเตเด เดชเดพเดฒเดฟเดเตเดเดชเตเดชเตเดเตเดจเตเดจเต เดเดจเตเดจเต เดเดฑเดชเตเดชเต เดตเดฐเตเดคเตเดคเตเดจเตเดจเดคเดฟเดจเดพเดฏเดฟ [`eslint-plugin-react-hooks`](https://www.npmjs.com/package/eslint-plugin-react-hooks) เดเดจเตเดจเตเดฐเต เดชเตเดฒเดเตเดเดฟเตป เดเดเตเดเตพ เดชเตเดฑเดคเตเดคเดฟเดฑเดเตเดเดฟเดฏเดฟเดเตเดเตเดฃเตเดเต. เดเดคเต เดจเดฟเดเตเดเดณเตเดเต เดชเตเดฐเตเดเตเดเตเดฑเตเดฑเดฟเตฝ เดเตพเดชเตเดชเตเดเตเดคเตเดคเดฟ เดเดชเดฏเตเดเดฟเดเตเดเต เดจเตเดเตเดเดพเดตเตเดจเตเดจเดคเดพเดฃเต:

This plugin is included by default in [Create React App](/docs/create-a-new-react-app.html#create-react-app).

```bash
npm install eslint-plugin-react-hooks --save-dev
```

```js
// Your ESLint configuration
{
  "plugins": [
    // ...
    "react-hooks"
  ],
  "rules": {
    // ...
    "react-hooks/rules-of-hooks": "error", // Checks rules of Hooks
    "react-hooks/exhaustive-deps": "warn" // Checks effect dependencies
  }
}
```

<<<<<<< HEAD
This plugin is included by default in [Create React App](/docs/create-a-new-react-app.html#create-react-app).

**เดเดเตเดคเตเดค เดชเตเดเดฟเตฝ เดจเดฟเดเตเดเดณเตเดเต [เดเดทเตเดเดพเดจเตเดธเดฐเดฃเดฎเตเดณเตเดณ Hooks](/docs/hooks-custom.html) เดเดเตเดเดจเต เดจเดฟเตผเดฎเตเดฎเดฟเดเตเดเตเดเตเดเตเดเดพเด เดเดจเตเดจเต เดตเดฟเดถเดฆเตเดเดฐเดฟเดเตเดเตเดจเตเดจเตเดฃเตเดเต.** เด เดชเตเดเดฟเตฝ เด 2 เดจเดฟเดฏเดฎเดเตเดเตพ เดชเดฟเดจเตเดคเตเดเดฐเตเดฃเตเดเดคเดฟเดจเตเดฑเต เดเดตเดถเตเดฏเดเดค เดตเดฟเดถเดฆเตเดเดฐเดฟเดเตเดเตเดจเตเดจเดคเดพเดฃเต.
=======
**You can skip to the next page explaining how to write [your own Hooks](/docs/hooks-custom.html) now.** On this page, we'll continue by explaining the reasoning behind these rules.
>>>>>>> bc91fe4101420f98454a59ac34c1cf1d4d4f4476

## เดตเดฟเดถเดฆเตเดเดฐเดฃเด {#explanation}


เดจเตเดฐเดคเตเดคเต เดจเดฎเตเดฎเตพ [เดชเดเดฟเดเตเดเดคเต](/docs/hooks-state.html#tip-using-multiple-state-variables) เดชเตเดฒเต เดเดฐเต เดเดฎเตเดชเตเดฃเดจเตเดฑเดฟเตฝ เดเดจเตเดจเดฟเดฒเดงเดฟเดเด state เดเด effects เดเด เดเดชเดฏเตเดเดฟเดเตเดเดพเตป เดธเดพเดงเดฟเดเตเดเตเดจเตเดจเดคเดพเดฃเต:

```js
function Form() {
  // 1. Use the name state variable
  const [name, setName] = useState('Mary');

  // 2. Use an effect for persisting the form
  useEffect(function persistForm() {
    localStorage.setItem('formData', name);
  });

  // 3. Use the surname state variable
  const [surname, setSurname] = useState('Poppins');

  // 4. Use an effect for updating the title
  useEffect(function updateTitle() {
    document.title = name + ' ' + surname;
  });

  // ...
}
```

`useState` เดเตเดณเตเดเดณเตเด เดเดคเดฟเดจเตเดฑเต เดเดจเตเดฌเดจเตเดงเดฎเดพเดฏ state เดเด React เดเดเตเดเดจเต เดฎเดจเดธเตเดธเดฟเดฒเดพเดเตเดเตเด ? เดเดคเตเดคเดฐเด เดเดคเดพเดฃเต , **Hooks เดตเดฟเดณเดฟเดเตเดเดชเตเดชเตเดเตเดจเตเดจเดคเดฟเดจเตเดฑเต เดเตเดฐเดฎเดคเตเดคเดฟเดจเตเดฑเต เดเดเดฟเดธเตเดฅเดพเดจเดคเตเดคเดฟเดฒเดพเดฃเต**. เดเดฒเตเดฒเดพ เดฑเตเดจเตเดฑเดฑเตเดเดณเดฟเดฒเตเด Hook-เดเดณเต เดตเดฟเดณเดฟเดเตเดเตเดจเตเดจเดคเต เดเดฐเต เดเตเดฐเดฎเดคเตเดคเดฟเตฝ เดเดฏเดคเดฟเดจเดพเตฝ เดจเดฎเตเดฎเตเดเต  เดเดฆเดพเดนเดฐเดฃ เดชเตเดฐเตเดเตเดฐเดพเด เดถเตเดฐเดฟเดฏเดพเดฏเดฟ เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเตเดจเตเดจเต :

```js
// ------------
// First render
// ------------
useState('Mary')           // 1. Initialize the name state variable with 'Mary'
useEffect(persistForm)     // 2. Add an effect for persisting the form
useState('Poppins')        // 3. Initialize the surname state variable with 'Poppins'
useEffect(updateTitle)     // 4. Add an effect for updating the title

// -------------
// Second render
// -------------
useState('Mary')           // 1. Read the name state variable (argument is ignored)
useEffect(persistForm)     // 2. Replace the effect for persisting the form
useState('Poppins')        // 3. Read the surname state variable (argument is ignored)
useEffect(updateTitle)     // 4. Replace the effect for updating the title

// ...
```

เดเดฒเตเดฒเดพ เดฑเตเดจเตเดฑเดฑเตเดเดณเดฟเดฒเตเด Hooks เดตเดฟเดณเดฟเดเตเดเดชเตเดชเตเดเตเดจเตเดจเดคเต เดเดฐเต เดเตเดฐเดฎเดคเตเดคเดฟเตฝ เดเดฏเดฟเดฐเดฟเดเตเดเตเดจเตเดจเดฟเดเดคเตเดคเตเดณเด, React เดจเต เดถเตเดฐเดฟเดฏเดพเดฏ เดฐเตเดคเดฟเดฏเดฟเตฝ state เดเดณเต เดเดจเตเดฌเดจเตเดงเดฟเดเตเดเดพเตป เดเดดเดฟเดฏเตเดจเตเดจเต.เดฎเดฑเดฟเดเตเดเต เดเดฐเต เดเดฃเตเดเตเดทเดจเต เดเดเดคเตเดคเต เดจเดฟเดจเตเดจเต Hook-เดจเต เดตเดฟเดณเดฟเดเตเดเดพเดฒเต (เดเดฆเดพเดนเดฐเดฃเดฎเดพเดฏเดฟ `persistForm` เดเดซเตเดเตเดฑเตเดฑเต  ) ?  

```js
  // ๐ด We're breaking the first rule by using a Hook in a condition
  if (name !== '') {
    useEffect(function persistForm() {
      localStorage.setItem('formData', name);
    });
  }
```

เดเดฆเตเดฏเดคเตเดคเต เดฑเตเดจเตเดฑเดฑเดฟเตฝ `name !== ''` เดเดฃเตเดเตเดทเตป `true` เดเดฃเต, เดซเดฒเดฎเดพเดฏเดฟ Hook เดฑเตบ เดเดฏเดฟ. เดฏเตเดธเตผ, เดซเตเด เดเตเดฒเดฟเดฏเตผ เดเตเดฏเตเดคเดพเตฝ เดเดเตเดคเตเดค เดฑเตเดจเตเดฑเดฑเดฟเตฝ เดเดฃเตเดเตเดทเตป `false` เดเดฏเดฟเดฐเดฟเดเตเดเตเด , เดซเดฒเดฎเดพเดฏเดฟ เด Hook เดตเตผเดเตเดเต เดเตเดฏเตเดฏเดพเดคเดฟเดฐเดฟเดเตเดเตเดจเตเดจเต. เดเดเตเดเดจเต Hook-เดจเต เดตเดฟเดณเดฟเดเตเดเตเดจเตเดจ เดเตเดฐเดฎเด เดตเตเดฏเดคเตเดฏเดธเตเดคเดฎเดพเดเตเดจเตเดจเต:

```js
useState('Mary')           // 1. Read the name state variable (argument is ignored)
// useEffect(persistForm)  // ๐ด This Hook was skipped!
useState('Poppins')        // ๐ด 2 (but was 3). Fail to read the surname state variable
useEffect(updateTitle)     // ๐ด 3 (but was 4). Fail to replace the effect
```

เดเดชเตเดชเตเตพ เดฐเดฃเตเดเดพเดฎเดคเตเดคเต `useState` เดเตเดณเดฟเดจเต เดเดจเตเดคเดพเดฃเต เดฑเดฟเดเตเดเตเตบ เดจเตฝเดเตเดฃเตเดเดคเต เดเดจเตเดจเต React เดจเต เดเดฑเดฟเดฏเดฟเดฒเตเดฒ. React เดเดฐเตเดคเตเดจเตเดจเดคเต, เดฐเดฃเตเดเดพเดฎเดคเต เดตเดฟเดณเดฟเดเตเดเตเดจเตเดจเดคเต `persistForm` เดจเตเดเต เดเดจเตเดฌเดจเตเดงเดฎเดพเดฏ state เดเดฃเตเดจเตเดจเดพเดฃเต, เดเดคเดฟเดจเต เดฎเตเดฎเตเดชเตเดณเตเดณ เดฑเตเดจเตเดฑเดฑเดฟเตฝ เดธเดเดญเดตเดฟเดเตเดเดคเต เดชเตเดฒเต. เดชเดเตเดทเต เดเดคเดฒเตเดฒ เดธเดเดญเดตเดฟเดเตเดเตเดจเตเดจเดคเต. เดชเดฟเดจเตเดจเตเดเดเตเดเตเดเตเดเต เดฑเตบ เดเตเดฏเตเดฏเดพเดคเต เดชเตเดฏ Hook-เดจเต เดถเตเดทเดฎเตเดณเตเดณ Hook-เดเตพ เดตเดฟเดณเดฟเดเตเดเดชเตเดชเตเดเตเดจเตเดจเต, เดคเตฝเดซเดฒเดฎเดพเดฏเดฟ เดฌเดเตเดเตพ เดเดฃเตเดเดพเดเตเดจเตเดจเต.

**เดเดคเตเดเตเดฃเตเดเต Hook-เดจเต เดเดชเตเดชเตเดดเตเด เดเดฎเตเดชเตเดฃเดจเตเดฑเดฟเดจเตเดฑเต เดเตเดชเตเดชเต เดฒเตเดตเดฒเดฟเตฝ เดจเดฟเดจเตเดจเต เดฎเดพเดคเตเดฐเด เดตเดฟเดณเดฟเดเตเดเตเด.** เดเดฐเต เดเดฃเตเดเตเดทเดจเต เดเดเดฟเดธเตเดฅเดพเดจเดฎเดพเดเตเดเดฟ Hook เดตเดฟเดณเดฟเดเตเดเดชเตเดชเตเดเดฃเด เดเดเตเดเดฟเตฝ , Hook-เดจเตเดฑเต เดเดเดคเตเดคเต เดเดฃเตเดเตเดทเตป เดจเตฝเดเดพเดตเตเดจเตเดจเดคเดพเดฃเต:

```js
  useEffect(function persistForm() {
    // ๐ We're not breaking the first rule anymore
    if (name !== '') {
      localStorage.setItem('formData', name);
    }
  });
```

**[เด เดฒเดฟเตปเดฑเตเดฑเต เดฑเตเตพ](https://www.npmjs.com/package/eslint-plugin-react-hooks) เดเดชเดฏเตเดเตเดเตเดตเดจเตเดเตเดเดฟเตฝ เด เดชเตเดฐเตเดทเตเดจเดคเตเดคเต เดเตเดฑเดฟเดเตเดเต เดเดถเดเตเดเดชเตเดชเตเดเตเดฃเตเดเดคเดฟเดฒเตเดฒ**. *เดเดจเตเดคเตเดเตเดฃเตเดเต* Hooks เดเดเตเดเดจเต เดชเตเดฐเดตเตผเดคเตเดคเดฟเดเตเดเตเดจเตเดจเต เดเดจเตเดจเตเด เดเดคเตเดเตเดเต เดชเตเดฐเดถเตเดจเดเตเดเดณเตเดฏเดพเดฃเต เด เดจเดฟเดฏเดฎเดเตเดเตพ เดถเตเดฐเดฟเดฏเดพเดฏเดฟ เดจเตเดฐเดฟเดเตเดจเตเดจเดคเต เดเดจเตเดจเตเด เดฎเดจเดธเตเดธเดฟเดฒเดพเดฏเดฒเตเดฒเต.

## เดเดเตเดคเตเดค เดเดเตเดเดเตเดเตพ {#next-steps}

เดเดจเดฟ เดจเดฎเตเดเตเดเต [Custom Hook](/docs/hooks-custom.html)! เดเดดเตเดคเดพเตป เดชเดเดฟเดเตเดเดพเดตเตเดจเตเดจเดคเดฃเต. Custom Hook-เดเตฝ React เดจเตเดฑเต เดคเดจเดคเต Hook-เดเตพ เดเดชเดฏเตเดเดฟเดเตเดเดพเดตเตเดจเตเดจเดคเดพเดฃเต, เด เดเดธเตเดฑเตเดฑเด Hook เดตเดฟเดตเดฟเดง เดเดฎเตเดชเตเดฃเดจเตเดฑเตเดเดณเดฟเตฝ เดเดชเดฏเตเดเดชเตเดชเตเดเตเดคเตเดคเดตเตเดจเตเดจเดคเตเดฎเดฃเต.
